import { renderFileToString } from 'https://deno.land/x/dejs@0.10.3/mod.ts';
export function getRenderer(name, data, alsoDo) {
    console.log('Creating renderer for ' + name);
    return async (c)=>{
        console.log('Rendering ' + name);
        if (alsoDo !== undefined) alsoDo(c);
        return renderFileToString(`./views/${name}.dejs`, {
            data: Object.assign({
            }, data, {
                thisName: name
            })
        });
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vaG9tZS9ydW5uZXIvdGVybWluYWwvcmVuZGVyZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gJ2h0dHBzOi8vZGVuby5sYW5kL3gvYWJjQHYxLjMuMy9tb2QudHMnO1xuaW1wb3J0IHsgcmVuZGVyRmlsZVRvU3RyaW5nIH0gZnJvbSAnaHR0cHM6Ly9kZW5vLmxhbmQveC9kZWpzQDAuMTAuMy9tb2QudHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVuZGVyZXIobmFtZTogc3RyaW5nLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgYWxzb0RvPzogKGM6IENvbnRleHQpID0+IHZvaWQpIHtcbiAgY29uc29sZS5sb2coJ0NyZWF0aW5nIHJlbmRlcmVyIGZvciAnICsgbmFtZSk7XG4gIHJldHVybiBhc3luYyAoYzogQ29udGV4dCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdSZW5kZXJpbmcgJyArIG5hbWUpO1xuICAgIGlmKGFsc29EbyAhPT0gdW5kZWZpbmVkKSBhbHNvRG8oYyk7XG4gICAgcmV0dXJuIHJlbmRlckZpbGVUb1N0cmluZyhgLi92aWV3cy8ke25hbWV9LmRlanNgLCB7IGRhdGE6IE9iamVjdC5hc3NpZ24oe30sIGRhdGEsIHsgdGhpc05hbWU6IG5hbWUgfSkgfSk7XG4gIH1cbn0iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsTUFBTSxHQUFHLGtCQUFrQixRQUFRLENBQXdDO0FBRTNFLE1BQU0sVUFBVSxXQUFXLENBQUMsSUFBWSxFQUFFLElBQTZCLEVBQUUsTUFBNkIsRUFBRSxDQUFDO0lBQ3ZHLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBd0IsMEJBQUcsSUFBSTtJQUMzQyxNQUFNLFFBQVEsQ0FBVSxHQUFLLENBQUM7UUFDNUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFZLGNBQUcsSUFBSTtRQUMvQixFQUFFLEVBQUMsTUFBTSxLQUFLLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUNqQyxNQUFNLENBQUMsa0JBQWtCLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQztZQUFDLElBQUksRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7WUFBQSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUM7Z0JBQUMsUUFBUSxFQUFFLElBQUk7WUFBQyxDQUFDO1FBQUUsQ0FBQztJQUN6RyxDQUFDO0FBQ0gsQ0FBQyJ9